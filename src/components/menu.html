<template>
  <!-- Menu screen (from left) -->
  <require from="./menu.css"></require>
  <ar-drawer id="menu" position="left" view-model.ref="drawer">
    <ux-icon icon="close" click.delegate="drawer.close()" class="fix-topright"></ux-icon>
    <h3>Menu</h3>
    <ux-list>
      <ux-list-item class="click" click.delegate="gotoRoute('apps')">
        <div class="ux-list-item__content">
          <span t="menu.Apps" if.bind="global.state.swissdata.authenticated"></span>
          <span t="menu.Login" if.bind="!global.state.swissdata.authenticated"></span>
        </div>
        <div class="ux-list-item__action-item">
          <ux-icon icon="chevron_right"></ux-icon>
        </div>
      </ux-list-item> 
      <ux-list-item class="click" click.delegate="gotoRoute('account')" if.bind="global.state.swissdata.authenticated">
        <div class="ux-list-item__content">
          <span t="menu.My Account"></span>
        </div>
        <div class="ux-list-item__action-item">
          <ux-icon icon="chevron_right"></ux-icon>
        </div>
      </ux-list-item> 
      <ux-list-item class="click" click.delegate="gotoRoute('dico2')" if.bind="global.state.swissdata.authenticated && global.state.swissdata.user.roles['admin'] !== -1">
        <div class="ux-list-item__content">
          <span t="menu.Dico"></span>
        </div>
        <div class="ux-list-item__action-item">
          <ux-icon icon="chevron_right"></ux-icon>
        </div>
      </ux-list-item>

    </ux-list>

    <hr if.bind="global.state.swissdata.authenticated">

    <ux-list>
      <ux-list-item class="click" click.delegate="logout()" if.bind="global.state.swissdata.authenticated">
        <div class="ux-list-item__content">
          <span t="menu.Logout"></span>
        </div>
        <div class="ux-list-item__action-item">
          <ux-icon icon="exit_to_app"></ux-icon>
        </div>
      </ux-list-item>
    </ux-list>
  </ar-drawer>
</template>
